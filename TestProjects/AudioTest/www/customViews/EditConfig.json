{"Category":"Development","Access":["SuperAdmin"],"Controller":"[\"$scope\", \"$http\", function ($scope, $http) {\n    $scope.ref = { json: null }\n    $http.post(\"/api/config\").then(r =>{\n        $scope.ref.json = JSON.stringify(r.data, null, \"\\t\");\n        $scope.ref.oldJson = angular.copy($scope.ref.json);\n    });\n    $scope.changed = () => $scope.ref.json != $scope.ref.oldJson && \n        !angular.equals(angular.fromJson($scope.ref.json), angular.fromJson($scope.ref.oldJson));\n    $scope.save = function(){\n        $http.post(\"/api/config/save\", $scope.ref.json).then(r => {\n            $scope.ref.oldJson = angular.copy($scope.ref.json);\n            $scope.$root.Config = angular.fromJson($scope.ref.json);\n        })\n    }\n}]","Html":"<md-card style=\"height:100%\">\n    <md-toolbar class=\"md-table-toolbar md-default\" layout=\"row\">\n        <div class=\"md-toolbar-tools\" flex>\n            <h2 class=\"text-center\">Edit Config</h2>\n        </div>\n        <md-button ng-disabled=\"!changed()\" ng-click=\"save()\" class=\"md-warn md-raised\">Save</md-button>\n    </md-toolbar>\n    <md-card-content style=\"height:100%;\">\n        <emc-code ng-model=\"ref.json\" mode=\"json\"></emc-code>\n    </md-card-content>\n</md-card>","Name":"EditConfig"}