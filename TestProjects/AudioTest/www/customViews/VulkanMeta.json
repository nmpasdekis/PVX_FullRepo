{"Category":"Vulkan","Access":["SuperAdmin"],"Controller":"[\"$scope\", \"$http\", function ($scope, $http) {\n    fetch(\"/api/data/vulkan.json\").then(c => c.text()).then(r => {\n        $scope.functions = r;\n        $scope.make($scope.functions);\n        $scope.$applyAsync();\n    })\n    \n   /* $http.get(\"/api/data/vulkan.json\").then(r => {\n        $scope.functions = JSON.stringify(r.data, null, \"\\t\")\n        $scope.make($scope.functions);\n    })*/\n    $scope.Save = function(){\n        $http.post(\"/api/data/save/vulkan.json\", $scope.functions)\n    }\n    $scope.make = function(code){\n        try{\n            $scope.code = `#include <vulkan/vulkan.hpp>\n\nnamespace PVX::Vulkan {\n${JSON.parse(code).map(c => `   Vk${c.name} Create${c.name}(${c.params?\n                c.params.map(({type, name})=>`${type} ${name}`).join(\", \"):\"\"}){\n    \tVk${c.name}CreateInfo createInfo{};\n    \tcreateInfo.sType = VK_STRUCTURE_TYPE${c.name.replace(/[A-Z]/g, m => (\"_\" + m)).toUpperCase()}_CREATE_INFO;\n    \tcreateInfo.pNext = nullptr;${c.options?Object.keys(c.options).map(k => `\n    \tcreateInfo.${k} = ${c.options[k]};`).join(\"\\n\"):\"\"}${c.params?c.params.map(({ name }) => `\n    \tcreateInfo.${name} = ${name};`).join(\"\\n\"):\"\"}\n    \n    \tVk${c.name} object;\n    \tvkCreate${c.name}(&createInfo, nullptr, &object);\n    \treturn object;\n    }`).join(\"\\n\\n\")}\n}`;\n        }catch(e){};\n    }\n}]","Html":"<md-card layout-fill>\n    <md-toolbar class=\"md-table-toolbar md-default\" layout=\"row\">\n        <div class=\"md-toolbar-tools\">\n            <h2 class=\"text-center\">Title</h2>\n        </div>\n        <md-button ng-click=\"Save()\">Save</md-button>\n    </md-toolbar>\n    <md-card-content layout=\"column\">\n        <div flex=\"50\">\n            <em-code ng-model=\"functions\" mode=\"json\" ng-change=\"make(functions)\"></em-code>\n        </div>\n        <div flex=\"50\">\n            <em-code ng-model=\"code\" mode=\"c_cpp\"></em-code>\n        </div>\n    </md-card-content>\n    <md-card-actions>\n    \n    </md-card-actions>\n</md-card>","Name":"VulkanMeta"}